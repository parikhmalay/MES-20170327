<div class="common-accordion-panel" ng-controller="AddEditRFQCtrl">
    <form unsaved-warning-form novalidate id="spnAddEditRFQ" accessible-form>
        <us-spinner spinner-key="spnAddEditRFQ"></us-spinner>
        <!--Section - 1 - RFQ Details-->
        <div class="col-12 pad-10 pad-b-0" dir-field-disabled="IsReadOnlyAddEdit">
            <div class="col-12">
                <h3 class="pad-b-5 title-sd"><span class="p-title-txt">{{'_SectionOne_' | translate}}</span></h3>
            </div>
            <div class="col-12 pad-10 border-box-content">
                <div class="fs linear fs-col-4">
                    <div class="fs-g">
                        <div class="fs-f" ng-show="TransactionMode=='Edit'">
                            <span class="fs-f-l">
                                <label translate="yes">_RFQNo_</label>
                            </span> <span class="fs-f-i">
                                <label class="pad-0" name="{{'_RFQNo_' | translate}}">{{RFQ.Id}}</label>
                            </span>
                        </div>
                        <div class="fs-f">
                            <span class="fs-f-l">
                                <label translate="yes">_Customer_</label>
                                <span class="required">*</span>
                            </span>
                            <span class="fs-f-i">
                                <select name="{{'_Customer_' | translate}}" required ng-model="RFQ.CustomerId" ng-disabled="TransactionMode=='Edit'"
                                        aa-field-name="{{'_Customer_'|translate}}"
                                        ng-options="item.Id as item.Name for item in CustomerList" ng-change="getCustomerContactLookupData()" ng-class="{disableAnchor:TransactionMode=='Edit','':TransactionMode=='Edit'}">
                                    <option value="">{{'_Select_' | translate}}</option>
                                </select>
                            </span>
                        </div>
                        <div class="fs-f">
                            <span class="fs-f-l">
                                <label translate="yes">_ProjectName_</label>
                            </span> <span class="fs-f-i">
                                <input type="text" name="{{'_ProjectName_' | translate}}" aa-field-name="{{'_ProjectName_' | translate}}"
                                       ng-model="RFQ.ProjectName" ng-maxlength="50" />
                            </span>
                        </div>
                        <div class="fs-f">
                            <span class="fs-f-l">
                                <label translate="yes">_ContactPerson_</label>
                                <span class="required">*</span>
                            </span> <span class="fs-f-i">
                                <select name="{{'_ContactPerson_' | translate}}" required ng-model="RFQ.CustomerContactId" aa-field-name="{{'_ContactPerson_'|translate}}"
                                        ng-options="item.Id as item.Name for item in CustomerContactList">
                                    <option value="">{{'_Select_' | translate}}</option>
                                </select>
                            </span>
                        </div>
                        <div class="fs-f" ng-show="TransactionMode=='Edit'">
                            <span class="fs-f-l">
                                <label translate="yes">_Email_</label>
                            </span> <span class="fs-f-i">
                                <label class="pad-0" name="{{'_Email_' | translate}}">{{RFQ.CustomerContactEmail}}</label>
                            </span>
                        </div>
                        <div class="fs-f">
                            <span class="fs-f-l">
                                <label translate="yes">_RFQDate_</label>
                                <span class="required">*</span>
                            </span> <span class="fs-f-i">
                                <input type="text" name="{{'_RFQDate_' | translate}}" required
                                       aa-field-name="{{'_RFQDate_' | translate}}"
                                       ng-model="RFQ.Date" date-time view="date" min-view="date" format="dd-MMM-yy" min="{{todayDate}}" />
                            </span>
                        </div>
                        <div class="fs-f">
                            <span class="fs-f-l">
                                <label translate="yes">_QuoteDueDate_</label>
                            </span> <span class="fs-f-i">
                                <input type="text" name="{{'_QuoteDueDate_' | translate}}"
                                       aa-field-name="{{'_QuoteDueDate_' | translate}}"
                                       ng-model="RFQ.QuoteDueDate" date-time view="date" min-view="date" format="dd-MMM-yy" min="{{RFQ.Date}}" />
                            </span>
                        </div>
                        <div class="fs-f">
                            <span class="fs-f-l">
                                <label translate="yes">_Status_</label>
                            </span> <span class="fs-f-i">
                                <select name="{{'_Status_' | translate}}" ng-model="RFQ.Status" aa-field-name="{{'_Status_'|translate}}"
                                        ng-options="status.value as status.name for status in StatusList"></select>
                            </span>
                        </div>
                        <div class="fs-f">
                            <span class="fs-f-l">
                                <label translate="yes">_SAM_</label>
                                <span class="required">*</span>
                            </span> <span class="fs-f-i">
                                <select name="{{'_SAM_' | translate}}" ng-model="RFQ.SAMId" required aa-field-name="{{'_SAM_'|translate}}"
                                        ng-options="item.Id as item.Name for item in SAMList">
                                    <option value="">{{'_Select_' | translate}}</option>
                                </select>
                            </span>
                        </div>
                        <div class="fs-f">
                            <span class="fs-f-l">
                                <label translate="yes">_RFQSource_</label>
                            </span> <span class="fs-f-i">
                                <select name="{{'_RFQSource' | translate}}" ng-model="RFQ.RFQSourceId" aa-field-name="{{'_RFQSource_'|translate}}"
                                        ng-options="item.Id as item.Name for item in RFQSourceList">
                                    <option value="">{{'_Select_' | translate}}</option>
                                </select>
                            </span>
                        </div>
                        <div class="fs-f">
                            <span class="fs-f-l">
                                <label translate="yes">_Commodity_</label>
                            </span> <span class="fs-f-i">
                                <select name="{{'_Commodity_' | translate}}" ng-model="RFQ.CommodityId" aa-field-name="{{'_Commodity_'|translate}}"
                                        ng-options="item.Id as item.Name group by item.ParentId for item in CommodityList">
                                    <option value="">{{'_Select_' | translate}}</option>
                                </select>
                            </span>
                        </div>

                        <div class="fs-f">
                            <span class="fs-f-l">
                                <label translate="yes">_RFQType_</label>
                            </span>
                            <span class="fs-f-i">
                                <select name="{{'_RFQType_' | translate}}" ng-model="RFQ.RFQTypeId" aa-field-name="{{'_RFQType_'|translate}}"
                                        ng-options="item.Id as item.Name for item in RFQTypeList">
                                    <option value="">{{'_Select_' | translate}}</option>
                                </select>
                            </span>
                        </div>
                        <div class="fs-f">
                            <span class="fs-f-l">
                                <label translate="yes">_RFQCoordinator_</label>
                                <span class="required">*</span>
                            </span>
                            <span class="fs-f-i">
                                <select name="{{'_RFQCoordinator_' | translate}}" required ng-model="RFQ.RFQCoordinatorId" aa-field-name="{{'_RFQCoordinator_'|translate}}"
                                        ng-options="item.Id as item.Name for item in RFQCoordinatorList">
                                    <option value="">{{'_Select_' | translate}}</option>
                                </select>
                            </span>
                        </div>


                        <div class="fs-f">
                            <span class="fs-f-l">
                                <label translate="yes">_NonAwardReason_</label>
                            </span> <span class="fs-f-i">
                                <select name="{{'_NonAwardReason_' | translate}}" ng-model="RFQ.NonAwardFeedbackId" aa-field-name="{{'_NonAwardReason_'|translate}}"
                                        ng-options="item.Id as item.Name for item in NonAwardReasonList">
                                    <option value="">{{'_Select_' | translate}}</option>
                                </select>
                            </span>
                        </div>
                        <div class="fs-f">
                            <span class="fs-f-l">
                                <label translate="yes">_Process_</label>
                            </span> <span class="fs-f-i">
                                <select name="{{'_Process_' | translate}}" ng-model="RFQ.ProcessId" aa-field-name="{{'_Process_'|translate}}"
                                        ng-options="item.Id as item.Name for item in ProcessList">
                                    <option value="">{{'_Select_' | translate}}</option>
                                </select>
                            </span>
                        </div>
                        <div class="fs-f">
                            <span class="fs-f-l">
                                <label translate="yes">_SupplierRequirement_</label>
                            </span> <span class="fs-f-i">
                                <select name="{{'_SupplierRequirement_' | translate}}" ng-model="RFQ.SupplierRequirement" aa-field-name="{{'_SupplierRequirement_'|translate}}"
                                        ng-options="status.value as status.name for status in SupplierRequirementList">
                                    <option value="">{{'_Select_' | translate}}</option>
                                </select>
                            </span>
                        </div>
                        <div class="fs-f">
                            <span class="fs-f-l">
                                <label translate="yes">_RFQPriority_</label>
                                <span class="required">*</span>
                            </span> <span class="fs-f-i">
                                <select name="{{'_RFQPriority_' | translate}}" ng-model="RFQ.RFQPriorityId" aa-field-name="{{'_RFQPriority_'|translate}}"
                                        ng-options="item.Id as item.Name for item in RFQPriorityList" required>
                                    <option value="">{{'_Select_' | translate}}</option>
                                </select>
                            </span>
                        </div>

                        <div class="fs-f">
                            <span class="fs-f-l">
                                <label translate="yes">_IndustryType_</label>
                                <span class="required">*</span>
                            </span>
                            <span class="fs-f-i">
                                <select name="{{'_IndustryType_' | translate}}" ng-model="RFQ.IndustryTypeId" aa-field-name="{{'_IndustryType_'|translate}}"
                                        ng-options="item.Id as item.Name for item in IndustryTypeList" required>
                                    <option value="">{{'_Select_' | translate}}</option>
                                </select>
                            </span>
                        </div>
                        <div class="fs-f">
                            <span class="fs-f-l">
                                <label translate="yes">_Remarks_</label>
                            </span> <span class="fs-f-i">
                                <textarea type="text" rows="5" name="{{'_Remarks_' | translate}}"
                                          aa-field-name="{{'_Remarks_' | translate}}"
                                          ng-model="RFQ.Remarks" maxlength="255"></textarea>
                            </span>
                        </div>
                        <div class="fs-f">
                            <span class="fs-f-l">
                                <label translate="yes">_OtherAssumptions_</label>
                            </span> <span class="fs-f-i">
                                <textarea type="text" rows="5" name="{{'_OtherAssumptions_' | translate}}"
                                          aa-field-name="{{'_OtherAssumptions_' | translate}}"
                                          ng-model="RFQ.OtherAssumption" maxlength="255"></textarea>
                            </span>
                        </div>
                        <div class="fs-f">
                            <span class="fs-f-l">
                                <label translate="yes">_NonAwardDetailedFeedback_</label>
                            </span> <span class="fs-f-i">
                                <textarea type="text" rows="5" name="{{'_NonAwardDetailedFeedback_' | translate}}"
                                          aa-field-name="{{'_NonAwardDetailedFeedback_' | translate}}"
                                          ng-model="RFQ.NonAwardDetailedFeedback" maxlength="255"></textarea>
                            </span>
                        </div>

                        <div class="fs-f">
                            <span class="fs-f-l">
                                <label translate="yes">_UploadRFQFile_</label>
                            </span>
                            <span class="fs-f-i">
                                <file-select fs-model="RFQ.RfqFilePath"
                                             fs-multiselect="false"
                                             fs-upload-path="rfqFilePath"
                                             fs-extension-validation-msg="File not supported"
                                             fs-extension=".txt, .pdf, .xls, .xlsx, .doc, .docx, .jpg, .jpeg, .gif, .png, .tif, .tiff, .csv, .ppt, .pptx, .stp, .step, .iges, .igs, .dwf,
                                                          .dxf, .dwg, .zip, .rar, .7z, .sldprt, .1, .2, .3, .10, .15, .16, .20, .36, .39, .59, .82, .104, .115, .170"
                                             fs-saveuploadedfiles="SetObjectvalues(UploadedFilePath,UploadedFileName,'R')"
                                             fs-spinnder-key="spnAddEditRFQ"
                                             fs-stop-spinner="1"
                                             fs-file-upload-folder-name="RFQFiles"
                                             fs-max-size="1050000"
                                             fs-full-drag-area="false"></file-select>
                                <ul class="images-upload-panal mar-t-5" ng-hide="RFQ.RfqFilePath==undefined || RFQ.RfqFilePath==''">
                                    <li>
                                        <a href="/RFQ/RFQ/RFQ/DownloadFile?filePath={{RFQ.RfqFilePath}}&fileName={{RFQ.RfqFileName}}" target="_blank">
                                            <span translate="yes" ng-show="RFQ.RfqFileName==undefined || RFQ.RfqFileName==''">_ViewRFQFile_</span>
                                            <span translate="yes" ng-show="RFQ.RfqFileName!=undefined && RFQ.RfqFileName!=''">{{RFQ.RfqFileName}}</span>
                                        </a>
                                        <button class="btn float-r" ng-click="deleteFile(RFQ.RfqFilePath, $index,'R')"> <i class="fa fa-close"></i> </button>
                                    </li>
                                </ul>

                            </span>
                        </div>
                    </div>
                </div>
            </div>

        </div>
        <!--Section - 2 - RFQ Parts-->
        <div class="col-12 pad-10 pad-b-0" dir-field-disabled="IsReadOnlyRFQParts" ng-hide="IsHideRFQParts">
            <accordion close-others="false">
                <accordion-group heading="" is-open="true">
                    <accordion-heading>
                        <span class="p-title-txt">{{'_SectionTwo_' | translate}}</span>
                        <span class="accordion-icon"></span>
                    </accordion-heading>
                    <div class="col-12 pad-10 pad-b-0">
                        <div class="list-1 root-list">
                            <div class="lst-header">
                                <div class="lst-item">
                                    <div class="col-1">
                                        <label ng-click="sortType = 'CustomerPartNo';sortReverse = !sortReverse">
                                            {{'_PartNo_' | translate}}
                                            <i ng-show="sortType == 'CustomerPartNo' && sortReverse==false" class="fa fa-sort-asc"></i>
                                            <i ng-show="sortType == 'CustomerPartNo' && sortReverse==true" class="fa fa-sort-desc"></i>
                                        </label>
                                    </div>
                                    <div class="col-1">
                                        <label ng-click="sortType = 'RevLevel';sortReverse = !sortReverse">
                                            {{'_RevLevel_' | translate}}
                                            <i ng-show="sortType == 'RevLevel' && sortReverse==false" class="fa fa-sort-asc"></i>
                                            <i ng-show="sortType == 'RevLevel' && sortReverse==true" class="fa fa-sort-desc"></i>
                                        </label>
                                    </div>
                                    <div class="col-2">
                                        <label ng-click="sortType = 'PartDescription';sortReverse = !sortReverse">
                                            {{'_Description_' | translate}}
                                            <i ng-show="sortType == 'PartDescription' && sortReverse==false" class="fa fa-sort-asc"></i>
                                            <i ng-show="sortType == 'PartDescription' && sortReverse==true" class="fa fa-sort-desc"></i>
                                        </label>
                                    </div>
                                    <div class="col-2">
                                        <label ng-click="sortType = 'MaterialType';sortReverse = !sortReverse">
                                            {{'_Material_' | translate}}
                                            <i ng-show="sortType == 'MaterialType' && sortReverse==false" class="fa fa-sort-asc"></i>
                                            <i ng-show="sortType == 'MaterialType' && sortReverse==true" class="fa fa-sort-desc"></i>
                                        </label>
                                    </div>
                                    <div class="col-1">
                                        <label ng-click="sortType = 'EstimatedQty';sortReverse = !sortReverse">
                                            {{'_AnnualQuantity_' | translate}}
                                            <i ng-show="sortType == 'EstimatedQty' && sortReverse==false" class="fa fa-sort-asc"></i>
                                            <i ng-show="sortType == 'EstimatedQty' && sortReverse==true" class="fa fa-sort-desc"></i>
                                        </label>
                                    </div>
                                    <div class="col-1">
                                        <label ng-click="sortType = 'PartWeightKG';sortReverse = !sortReverse">
                                            {{'_Weight_' | translate}}
                                            <i ng-show="sortType == 'PartWeightKG' && sortReverse==false" class="fa fa-sort-asc"></i>
                                            <i ng-show="sortType == 'PartWeightKG' && sortReverse==true" class="fa fa-sort-desc"></i>
                                        </label>
                                    </div>
                                    <div class="col-3">
                                        <label>
                                            {{'_Specification_' | translate}}
                                        </label>
                                    </div>
                                    <div class="col-1 align-right spacer-right-t">
                                        <label ng-click="sortType = 'IsDefault';sortReverse = !sortReverse">
                                            {{'_Action_' | translate}}
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="lst-body">
                                <!--table-datafix-height-->
                                <div class="lst-item" ng-repeat="item in RFQ.lstRFQPart | orderBy:sortType:sortReverse">
                                    <div class="col-1" data-colmn-title="{{'_PartNo_'| translate}}">
                                        <label>{{item.CustomerPartNo}}</label>
                                    </div>
                                    <div class="col-1" data-colmn-title="{{'_RevLevel_'| translate}}">
                                        <label>{{item.RevLevel}}</label>
                                    </div>
                                    <div class="col-2" data-colmn-title="{{'_Description_'| translate}}">
                                        <label>{{item.PartDescription}}</label><br />
                                        <label>{{item.AdditionalPartDesc}}</label>
                                    </div>
                                    <div class="col-2" data-colmn-title="{{'_Material_'| translate}}">
                                        <label>{{item.MaterialType}}</label>
                                    </div>
                                    <div class="col-1" data-colmn-title="{{'_AnnualQuantity_'| translate}}">
                                        <label>{{item.EstimatedQty}}</label>
                                    </div>
                                    <div class="col-1" data-colmn-title="{{'_Weight_'| translate}}">
                                        <label>{{item.PartWeightKG}}</label>
                                    </div>
                                    <div class="col-3" data-colmn-title="{{'_Specification_'| translate}}">
                                        <div class="lst-item" ng-repeat="spec in item.RfqPartAttachmentList track by $index">
                                            <a href="{{spec.AttachmentPathOnServer}}" target="_blank">{{spec.AttachmentName}}</a>
                                        </div>
                                    </div>
                                    <div class="col-1 align-right">
                                        <div class="btn-group action-btn" dropdown>
                                            <button type="button" class="btn" data-ng-click="EditRFQPart(item,$index)" translate="yes">_Edit_</button>
                                            <button type="button" class="btn action-toggle">
                                                <span class="caret"></span>
                                                <span class="sr-only">Split button!</span>
                                            </button>
                                            <ul class="dropdown-menu" role="menu">
                                                <li><a href="javascript:void(0)" data-ng-click="DeletePart(item.Id,$index)" translate="yes">_Delete_</a></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="lst-item" ng-hide="RFQ.lstRFQPart.length>0">
                                    <div class="col-12">
                                        <div class="error-box rounded-info-box">
                                            <p translate="yes">_NoRecordsFound_</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div ng-hide="AddEditRFQPart==true" class="last-trip-panel col-12 pad-10">
                        <div class="col-2 align-left">
                            <label class="align-left"><b>{{'_UploadText_' | translate }}</b></label>
                        </div>
                        <div class="col-2 align-left">
                            <div>
                                <file-select fs-model="RFQ.UploadPartFilePath"
                                             fs-multiselect="false"
                                             fs-upload-path="rfqFilePath"
                                             fs-extension-validation-msg="File not supported"
                                             fs-extension=".xls, .xlsx"
                                             fs-saveuploadedfiles="SetObjectvalues(UploadedFilePath,UploadedFileName,'P')"
                                             fs-spinnder-key="spnAddEditRFQ"
                                             fs-stop-spinner="1"
                                             fs-file-upload-folder-name="TempFilesEmailAttachments"
                                             fs-max-size="1050000" fs-full-drag-area="false"></file-select>
                            </div>
                            <ul class="images-upload-panal mar-t-5" ng-hide="RFQ.UploadPartFilePath == '' || RFQ.UploadPartFilePath ==undefined">
                                <li>
                                    <a href="{{RFQ.UploadPartFilePath}}" tar target="_blank"><span translate="yes">_ViewPartFile_</span></a>
                                    <button class="btn float-r" ng-click="deleteFile(RFQ.UploadPartFilePath, $index,'P')"> <i class="fa fa-close"></i> </button>
                                </li>
                            </ul>
                        </div>
                        <div class="col-6 align-left">
                            <button class="orange-btn" ng-click="UploadRFQPartFile()" translate="yes">_UploadFile_</button>
                            <label class="pad-l-10"><a id="DownloadTemplate" class="common-link underline-link" href="../../../../Templates/Parts_Template.xls" translate="yes">_DownloadText_</a></label>
                        </div>
                        <div class="col-2">
                            <button class="orange-btn" ng-click="AddNewRFQPart()" translate="yes">_AddNew_</button>
                        </div>
                    </div>
                </accordion-group>
            </accordion>
        </div>
        <!--Section - 3 - SUPPLIERS-->
        <div class="col-12 pad-10 pad-b-0" ng-show="(RFQ.Id==null || RFQ.Id=='') || RFQ.Status=='H' || RFQ.lstRFQPart.length==0" ng-click="showMsg()">
            <accordion close-others="true">
                <div>
                    <div class="panel panel-default ng-scope ng-isolate-scope active" ng-class="{'active':Item.IsOpen,'':!Item.IsOpen}" heading="" is-open="false">
                        <div class="panel-heading" ng-click="Item.IsOpen=!Item.IsOpen">
                            <h4 class="panel-title">
                                <a class="accordion-toggle ng-binding" ng-click="isOpen = !isOpen">
                                    <span class="p-title-txt ng-binding ng-scope">{{'_SectionThree_'|translate}}</span>
                                    <span class="accordion-icon ng-scope"></span>
                                </a>
                            </h4>
                        </div>
                    </div>
                </div>
            </accordion>
        </div>
        <div class="col-12 pad-10 pad-b-0" ng-hide="(RFQ.Id==null || RFQ.Id=='') || RFQ.Status=='H' || RFQ.lstRFQPart.length==0 || IsHideRFQSuppliers" dir-field-disabled="IsReadOnlyRFQSuppliers">
            <div class="col-12 two-col-spacer-panel">
                <accordion close-others="false">
                    <accordion-group heading="" is-open="true">
                        <accordion-heading>
                            <span class="p-title-txt drop-menu-spacer-header">
                                {{'_SectionThree_'|translate}}
                            </span>
                            <span class="accordion-icon"></span>
                        </accordion-heading>
                        <div class="col-lg-12 col-md-12 col-sm-12 col-6 pad-10">
                            <div class="col-12 pad-5 pad-t-0 pad-r-0 spacer-textbox-dg">
                                <div class="col-3 width-auto spacer-tit-label"><label><b>{{'_SendRFQ_'|translate}} {{RFQ.Id}}{{'_To_'|translate}}</b></label></div>
                                <div class="col-3 align-right width-auto float-r">
                                    <multiselect multiple="true"
                                                 ng-model="SearchCriteria.CommodityItemIds"
                                                 itemkey="Id"
                                                 itemvalue="Name"
                                                 options="item.Id as item.Name for item in CommodityList"
                                                 header="{{'_SelectCommodity_' | translate}}"
                                                 button-class="small fixed-width-multiselect"
                                                 class="width-auto"
                                                 is-function-callback="true"></multiselect>
                                </div>
                                <div class="col-3 align-right width-auto float-r">
                                    <multiselect multiple="true"
                                                 ng-model="SearchCriteria.CountryIds"
                                                 itemkey="Id"
                                                 itemvalue="Name"
                                                 options="item.Id as item.Name for item in CountryList"
                                                 header="{{'_SelectCountry_' | translate}}"
                                                 button-class="small fixed-width-multiselect"
                                                 class="width-auto"
                                                 is-function-callback="true"></multiselect>
                                </div>
                                <div class="col-3 align-right width-auto float-r fixed-width-input">
                                    <input type="text" name="{{'_Supplier_' | translate}}" placeholder="{{'_Supplier_' | translate}}" ng-keyup="searchGetAvailableSuppliers()"
                                           ng-model="SearchCriteria.Supplier" ng-maxlength="50" class="always-enable" />
                                </div>
                            </div>
                            <div class="list-1 root-list">
                                <div class="lst-header">
                                    <div class="lst-item">
                                        <div class="col-grid-sm-2">
                                            <input type="checkbox" ng-model="SelectAllObj.SelectAllAvailSup" id="chkSelectAllAvailSup" ng-change="SelectDeselectAllAvailSup()">
                                            <label for="chkSelectAllAvailSup" translate="yes"></label>
                                        </div>
                                        <div class="col-grid-sm-12">
                                            <label ng-click="sortType = 'CompanyName';sortReverse = !sortReverse">
                                                {{'_SupplierName_'|translate}}
                                                <i ng-show="sortType == 'CompanyName' && sortReverse==false" class="fa fa-sort-asc"></i>
                                                <i ng-show="sortType == 'CompanyName' && sortReverse==true" class="fa fa-sort-desc"></i>
                                            </label>
                                        </div>
                                        <div class="col-grid-sm-5">
                                            <label ng-click="sortType = 'City';sortReverse = !sortReverse">
                                                {{'_City_'|translate}}
                                                <i ng-show="sortType == 'City' && sortReverse==false" class="fa fa-sort-asc"></i>
                                                <i ng-show="sortType == 'City' && sortReverse==true" class="fa fa-sort-desc"></i>
                                            </label>
                                        </div>
                                        <div class="col-grid-sm-5">
                                            <label ng-click="sortType = 'Country';sortReverse = !sortReverse">
                                                {{'_Country_'|translate}}
                                                <i ng-show="sortType == 'Country' && sortReverse==false" class="fa fa-sort-asc"></i>
                                                <i ng-show="sortType == 'Country' && sortReverse==true" class="fa fa-sort-desc"></i>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="lst-body table-datafix-height">
                                    <div class="lst-item" ng-repeat="item in AvailableSuppliersList | orderBy:sortType:sortReverse">
                                        <div class="col-grid-sm-2" data-colmn-title="{{'_SelectAll_'| translate}}">
                                            <input ng-change="selectAvailSup()" type="checkbox" id="chkSelectAvailSup{{$index}}" ng-model="item.chkSelectAvailSup" />
                                            <label for="chkSelectAvailSup{{$index}}"></label>
                                        </div>
                                        <div class="col-grid-sm-12" data-colmn-title="{{'_CompanyName_'| translate}}">
                                            <label>{{item.CompanyName}}</label>
                                        </div>
                                        <div class="col-grid-sm-5" data-colmn-title="{{'_City_'| translate}}">
                                            <label>{{item.City}} </label>
                                        </div>
                                        <div class="col-grid-sm-5" data-colmn-title="{{'_Country_'| translate}}">
                                            <label>{{item.Country}}  </label>
                                        </div>
                                    </div>
                                    <div class="lst-item" ng-hide="AvailableSuppliersList.length>0">
                                        <div class="col-12">
                                            <div class="error-box rounded-info-box">
                                                <p translate="yes">_NoRecordsFound_</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div ng-hide="AddEditRFQPart==true" class="last-trip-panel">
                                <button class="orange-btn" ng-click="SendRFQFunc('SQ')" ng-show="AvailableSuppliersList.length>0" translate="yes">_SendRFQ_SQ_</button>
                                <button class="orange-btn" ng-click="SendRFQFunc('DQ')" ng-show="AvailableSuppliersList.length>0" translate="yes">_SendRFQ_DQ_</button>
                            </div>
                        </div>
                        <div class="col-lg-12 col-md-12 col-sm-12 col-6 pad-10">
                            <div class="col-12 pad-5 pad-t-0">
                                <div class="spacer-tit-label"><label><b>{{'_RFQText_'|translate}} {{RFQ.Id}} {{'_SentTo_'|translate}}</b></label></div>

                            </div>
                            <div class="list-1 root-list-tb root-list">
                                <div class="lst-header">
                                    <div class="lst-item">
                                        <div class="col-grid-sm-2">
                                            <input ng-change="SelectDeselectAllRFQSup()" type="checkbox" id="chkSelectAllRFQSup" ng-model="SelectAllObj.SelectAllRFQSup" />
                                            <label for="chkSelectAllRFQSup" translate="yes"></label>
                                        </div>
                                        <div class="col-grid-sm-1">
                                            <label ng-click="sortType = 'QuoteTypeDQ';sortReverse = !sortReverse">
                                                {{'_DQ_'|translate}}
                                                <i ng-show="sortType == 'CompanyName' && sortReverse==false" class="fa fa-sort-asc"></i>
                                                <i ng-show="sortType == 'CompanyName' && sortReverse==true" class="fa fa-sort-desc"></i>
                                            </label>
                                        </div>
                                        <div class="col-grid-sm-6">
                                            <label ng-click="sortType = 'CompanyName';sortReverse = !sortReverse">
                                                {{'_SupplierName_'|translate}}
                                                <i ng-show="sortType == 'CompanyName' && sortReverse==false" class="fa fa-sort-asc"></i>
                                                <i ng-show="sortType == 'CompanyName' && sortReverse==true" class="fa fa-sort-desc"></i>
                                            </label>
                                        </div>
                                        <div class="col-grid-sm-5">
                                            <label ng-click="sortType = 'City';sortReverse = !sortReverse">
                                                {{'_City_'|translate}}
                                                <i ng-show="sortType == 'City' && sortReverse==false" class="fa fa-sort-asc"></i>
                                                <i ng-show="sortType == 'City' && sortReverse==true" class="fa fa-sort-desc"></i>
                                            </label>
                                        </div>
                                        <div class="col-grid-sm-5">
                                            <label ng-click="sortType = 'Country';sortReverse = !sortReverse">
                                                {{'_Country_'|translate}}
                                                <i ng-show="sortType == 'Country' && sortReverse==false" class="fa fa-sort-asc"></i>
                                                <i ng-show="sortType == 'Country' && sortReverse==true" class="fa fa-sort-desc"></i>
                                            </label>
                                        </div>
                                        <div class="col-grid-sm-4 align-right">
                                            <label translate="yes">_Action_</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="lst-body table-datafix-height">
                                    <div class="lst-item" ng-repeat="item in RFQSuppliersList | orderBy:sortType:sortReverse">
                                        <div class="col-grid-sm-2" data-colmn-title="{{'_SelectAll_'| translate}}">
                                            <input ng-change="selectRFQSup()" type="checkbox" id="chkSelectRFQSup{{$index}}" ng-model="item.chkSelectRFQSup" />
                                            <label for="chkSelectRFQSup{{$index}}"></label>
                                        </div>
                                        <div class="col-grid-sm-1">
                                            <div class="notification-pl rfq-spacer" ng-bind-html="to_trusted(item.QuoteTypeDQ)">
                                            </div>
                                        </div>
                                        <div class="col-grid-sm-6" data-colmn-title="{{'_CompanyName_'| translate}}">
                                            <label>{{item.CompanyName}}  </label>
                                        </div>
                                        <div class="col-grid-sm-5" data-colmn-title="{{'_City_'| translate}}">
                                            <label>{{item.City}}  </label>
                                        </div>
                                        <div class="col-grid-sm-5" data-colmn-title="{{'_Country_'| translate}}">
                                            <label>{{item.Country}}</label>
                                        </div>
                                        <div class="col-grid-sm-4 align-right" data-colmn-title="{{'_Action_'| translate}}">
                                            <div class="btn-group action-btn" dropdown>
                                                <button type="button" class="btn" data-ng-click="EditRFQSupplier(item.RFQId,item.SupplierId)" translate="yes">_Edit_</button>
                                                <button type="button" class="btn action-toggle">
                                                    <span class="caret"></span>
                                                    <span class="sr-only">Split button!</span>
                                                </button>
                                                <ul class="dropdown-menu" role="menu">
                                                    <li><a href="javascript:void(0)" data-ng-click="ResendSingleQuote(item.Id,item.SupplierId,$index)" translate="yes">_SendResend_</a></li>
                                                    <li ng-show="{{item.QuoteDate==null}}"><a href="javascript:void(0)" data-ng-click="DeleteRFQSupplier(item.Id,$index)" translate="yes">_Delete_</a></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="lst-item" ng-hide="RFQSuppliersList.length>0">
                                        <div class="col-12">
                                            <div class="error-box rounded-info-box">
                                                <p translate="yes">_NoRecordsFound_</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div ng-hide="AddEditRFQPart==true" class="last-trip-panel">
                                <button class="orange-btn" ng-click="SendEmail()" ng-show="RFQSuppliersList.length>0" tabindex="16" translate="yes">_SendEmail_</button>
                                <button class="orange-btn" ng-click="ResendQuote()" ng-show="RFQSuppliersList.length>0" tabindex="17" translate="yes">_Resend_</button>
                            </div>
                        </div>
                    </accordion-group>
                </accordion>
            </div>
        </div>
        <!--Section - 4 - RFQ CloseOut-->
        <div class="col-12 pad-10 pad-b-0" ng-show="(RFQ.Id==null || RFQ.Id=='') || RFQ.Status=='H' || RFQ.lstRFQPart.length==0" ng-click="showMsg()">
            <accordion close-others="true">
                <div>
                    <div class="panel panel-default ng-scope ng-isolate-scope active" ng-class="{'active':Item.IsOpen,'':!Item.IsOpen}" heading="" is-open="false">
                        <div class="panel-heading" ng-click="Item.IsOpen=!Item.IsOpen">
                            <h4 class="panel-title">
                                <a class="accordion-toggle ng-binding" ng-click="isOpen = !isOpen">
                                    <span class="p-title-txt ng-binding ng-scope">{{'_SectionFour_'|translate}}</span>
                                    <span class="accordion-icon ng-scope"></span>
                                </a>
                            </h4>
                        </div>
                    </div>
                </div>
            </accordion>
        </div>
        <div class="col-12 pad-10 pad-b-0" ng-hide="(RFQ.Id==null || RFQ.Id=='') || RFQ.Status=='H' || RFQ.lstRFQPart.length==0 || IsHideRFQCloseoutEmail" dir-field-disabled="IsReadOnlyRFQCloseoutEmail">
            <accordion close-others="false">
                <accordion-group heading="" is-open="true">
                    <accordion-heading>
                        <span class="p-title-txt">{{'_SectionFour_' | translate}}</span>
                        <span class="accordion-icon"></span>
                    </accordion-heading>
                    <div class="col-12">
                        <div class="col-4 pad-10">
                            <div class="fs linear">
                                <div class="fs-g">
                                    <div class="fs-f">
                                        <span class="fs-f-l">
                                            <label translate="yes">_EmailType_</label>
                                        </span> <span class="fs-f-i">
                                            <select name="{{'_EmailType_' |  translate}}" ng-model="EmailData.EmailTypeId" aa-field-name="{{'_EmailType_'|translate}}"
                                                    ng-options="item.Id as item.Name for item in EmailTemplateList" ng-change="GetEmailTemplate()">
                                                <option value="">{{'_Select_' | translate}}</option>
                                            </select>
                                        </span>
                                    </div>
                                    <div class="fs-f">
                                        <span class="fs-f-l">
                                            <label translate="yes">_EmailSubject_</label>
                                            <span class="required">*</span>
                                        </span> <span class="fs-f-i">
                                            <input type="text" name="EmailSubject" aa-field-name="{{'_EmailSubject_' | translate}}" ng-model="EmailData.EmailSubject" />
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-4 pad-10">
                            <div class="fs linear">
                                <div class="fs-g">
                                    <div class="fs-f">
                                        <span class="fs-f-l">
                                            <label translate="yes">_SendTo_</label>
                                        </span> <span class="fs-f-i">
                                            <select name="{{'_SendTo_' |  translate}}" ng-model="EmailData.SendTo" aa-field-name="{{'_SendTo_'|translate}}"
                                                    ng-options="item.Email as item.CompanyName for item in RFQSuppliersList">
                                                <option value="">{{'_Select_' | translate}}</option>
                                            </select>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-4 pad-10">
                            <div class="fs linear">
                                <div class="fs-g">
                                    <div class="fs-f">
                                        <span class="fs-f-l">
                                            <label translate="yes">_BCCTo_</label>
                                        </span>
                                        <span class="fs-f-i">
                                            <input type="text" name="{{'_BCCTo_' | translate}}"
                                                   aa-field-name="{{'_BCCTo_' | translate}}"
                                                   ng-model="EmailData.BCCEmailIds" maxlength="255" />
                                            <label translate="yes">_MsgText_</label>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 pad-10 pad-t-0">
                        <div class="fs linear">
                            <div class="fs-g">
                                <div class="fs-f">
                                    <span class="fs-f-l">
                                        <label translate="yes">_EmailBody_</label>
                                    </span> <span class="fs-f-i">
                                        <textarea name="{{'_EmailBody_' | translate}}" aa-field-name="{{'_EmailBody_' | translate}}" ng-model="EmailData.EmailBodyRFQCloseout" ckeditorsmall></textarea>
                                    </span>
                                </div>
                                <div class="fs-f">
                                    <span class="fs-f-l">
                                        <label translate="yes">_Attachment_</label>
                                    </span>
                                    <span class="fs-f-i">
                                        <file-select fs-model="EmailData.lstEmailDocumentAttachment"
                                                     fs-multiselect="true"
                                                     fs-upload-path="EmailDocumentAttachment"
                                                     fs-extension-validation-msg="File not supported"
                                                     fs-extension=".txt, .pdf, .xls, .xlsx, .doc, .docx, .jpg, .jpeg, .gif, .png, .tif, .tiff, .csv, .ppt, .pptx, .stp, .step, .iges, .igs, .dwf,
                                                          .dxf, .dwg, .zip, .rar, .7z, .sldprt, .1, .2, .3, .10, .15, .16, .20, .36, .39, .59, .82, .104, .115, .170"
                                                     fs-saveuploadedfiles="SetUploadforCloseOut(UploadedFilePath,UploadedFileName)"
                                                     fs-spinnder-key="spnAddEditRFQ"
                                                     fs-stop-spinner="1"
                                                     fs-file-upload-folder-name="TempFilesEmailAttachments"
                                                     fs-max-size="1050000" fs-full-drag-area="false"></file-select>
                                        <ul class="images-upload-panal">
                                            <li ng-repeat="objUpFile in EmailData.lstEmailDocumentAttachment">
                                                <a href="{{objUpFile.FilePath}}" target="_blank">{{objUpFile.FileName}}</a>
                                                <button class="btn float-r mar-r-45" ng-click="deleteFileforCloseOut(objUpFile.FilePath, $index)"> <i class="fa fa-close"></i> </button>
                                            </li>
                                        </ul>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="last-trip-panel pad-10">
                        <button class="orange-btn" ng-click="SendRFQCloseOutEmail()" translate="yes">_Send_</button>
                    </div>
                </accordion-group>
            </accordion>
        </div>

        <!--Top Header Show Start-->
        <div class="freeze-bottom top-header-freeze-panel">
            <button class="orange-btn" aa-submit-form="SaveRFQ(0)" tabindex="23" translate="yes" ng-disabled="IsReadOnlyFinalSaveButton">_Save_</button>
            <button class="orange-btn" aa-submit-form="SaveRFQ(1)" tabindex="23" translate="yes" ng-disabled="IsReadOnlyFinalSaveButton">_SaveAndClose_</button>
            <!--<button class="orange-btn" ng-click="ResetForm()" tabindex="24" translate="yes">_Reset_</button>-->
            <button class="orange-btn" ng-click="RedirectToList()" tabindex="25" translate="yes">_Cancel_</button>
        </div>
        <!--Top Header Show End-->

        <div class="freeze-bottom">
            <button class="orange-btn" aa-submit-form="SaveRFQ(0)" tabindex="23" translate="yes" ng-disabled="IsReadOnlyFinalSaveButton">_Save_</button>
            <button class="orange-btn" aa-submit-form="SaveRFQ(1)" tabindex="23" translate="yes" ng-disabled="IsReadOnlyFinalSaveButton">_SaveAndClose_</button>
            <!--<button class="orange-btn" ng-click="ResetForm()" tabindex="24" translate="yes">_Reset_</button>-->
            <button class="orange-btn" ng-click="RedirectToList()" tabindex="25" translate="yes">_Cancel_</button>
        </div>

    </form>
</div>
